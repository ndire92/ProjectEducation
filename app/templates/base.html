{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Application Gestion École{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>
<body>
    
    <!-- Barre de navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <!-- Logo à gauche -->
            <a class="navbar-brand d-flex align-items-center" href="#">
                <img src="logo.png" alt="Logo" width="40" height="40" class="me-2">
              
            </a>
            
            <!-- Bouton pour mobile -->
            <button class="navbar-toggler" type="button" id="toggleSidebar" aria-expanded="false" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>  <div class="mx-auto">
                <h1 class="text-white text-center fs-4">Gestion des Écoles</h1>
            </div>
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#">Accueil</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#"><i class="fas fa-user"></i> Profils</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-danger" href="#"><i class="fas fa-sign-out-alt"></i> Déconnexion</a>
                </li>
            </ul>
            <!-- Liens de navigation -->
          
        </div>
    </nav>
    
    

    <!-- Menu latéral -->
    <div class="sidebar" id="sidebarMenu">
        <h4 class="text-center text-white p-3"><i class="fas fa-thumbtack"></i> Menu</h4>
        <ul class="nav flex-column">
            <li class="nav-item">
                <a href="{% url 'identification' %}" class="nav-link text-white fw-bold d-flex align-items-center">
                    <i class="fas fa-map-marker-alt me-2"></i> Localisation et Identification École
                </a>
            </li>
    
            <li class="nav-item">
                <a href="{% url 'gestion_localites' %}" class="nav-link text-white fw-bold d-flex align-items-center">
                    <i class="fas fa-leaf me-2"></i> Environnement S.E de la localité
                </a>
            </li>
    
            <li class="nav-item">
                <a href="{% url 'gestion_ecole' %}" class="nav-link text-white fw-bold d-flex align-items-center">
                    <i class="fas fa-school me-2"></i> Informations générales sur l'école
                </a>
            </li>
    
            <li class="nav-item">
                <a href="{% url 'gestion_locaux' %}" class="nav-link text-white fw-bold d-flex align-items-center">
                    <i class="fas fa-building me-2"></i> Caractéristiques et états des locaux
                </a>
            </li>
    
            <li class="nav-item">
                <a href="{% url 'gestion_mobilier' %}" class="nav-link text-white fw-bold d-flex align-items-center">
                    <i class="fas fa-chair me-2"></i> Caractéristiques du mobilier et équipements
                </a>
            </li>
    
            <li class="nav-item">
                <a href="{% url 'equipements_didactiques' %}" class="nav-link text-white fw-bold d-flex align-items-center">
                    <i class="fas fa-tools me-2"></i> Équipements didactiques
                </a>
            </li>
    
            <li class="nav-item">
                <a href="{% url 'gestion_guides' %}" class="nav-link text-white fw-bold d-flex align-items-center">
                    <i class="fas fa-book me-2"></i> Guides et Manuels
                </a>
            </li>
    
            <li class="nav-item">
                <a href="{% url 'gestion_personnel' %}" class="nav-link text-white fw-bold d-flex align-items-center">
                    <i class="fas fa-users me-2"></i> Informations relatives au Personnel
                </a>
            </li>
    
            <li class="nav-item">
                <a href="{% url 'gestion_inscriptions' %}" class="nav-link text-white fw-bold d-flex align-items-center">
                    <i class="fas fa-user-plus me-2"></i> Nouveaux inscrits en première année
                </a>
            </li>
    
            <li class="nav-item">
                <a href="{% url 'gestion_divisions' %}" class="nav-link text-white fw-bold d-flex align-items-center">
                    <i class="fas fa-chart-pie me-2"></i> Répartition des élèves par divisions
                </a>
            </li>
    
            <li class="nav-item">
                <a href="{% url 'gestion_aires' %}" class="nav-link text-white fw-bold d-flex align-items-center">
                    <i class="fas fa-map me-2"></i> Aires de Recrutement
                </a>
            </li>
    
            <li class="nav-item">
                <a href="{% url 'gestion_mobilite' %}" class="nav-link text-white fw-bold d-flex align-items-center">
                    <i class="fas fa-route me-2"></i> Mobilité des élèves
                </a>
            </li>
    
            <li class="nav-item">
                <a href="{% url 'gestion_structures' %}" class="nav-link text-white fw-bold d-flex align-items-center">
                    <i class="fas fa-chalkboard me-2"></i> Structures pédagogiques et effectifs
                </a>
            </li>
    
            <li class="nav-item">
                <a href="{% url 'gestion_finances' %}" class="nav-link text-white fw-bold d-flex align-items-center">
                    <i class="fas fa-money-bill-wave me-2"></i> Données financières
                </a>
            </li>
    
            <li class="nav-item">
                <a href="{% url 'gestion_observations' %}" class="nav-link text-white fw-bold d-flex align-items-center">
                    <i class="fas fa-clipboard me-2"></i> Observations
                </a>
            </li>
    
            <li class="nav-item">
                <a href="{% url 'gestion_signatures' %}" class="nav-link text-white fw-bold d-flex align-items-center">
                    <i class="fas fa-pen me-2"></i> Signatures
                </a>
            </li>
        </ul>
    </div>

    <!-- Contenu principal -->
    <div class="content">
        {% block content %}{% endblock %}
    </div>

    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const toggleButton = document.getElementById('toggleSidebar');
            const sidebar = document.getElementById('sidebarMenu');
        
            if (toggleButton && sidebar) {
                toggleButton.addEventListener('click', function () {
                    sidebar.classList.toggle('active'); // Ajoute/retire la classe "active"
                });
            } else {
                console.error("Le bouton ou la barre latérale est introuvable !");
            }
        });
        document.querySelectorAll('.nav-link').forEach(link => {
            if (link.href === window.location.href) {
                link.classList.add('active');
            }
        });
        
    </script>

    <!-- Styles CSS -->
    <style>
/* Styles de la barre latérale */
.sidebar {
    width: 250px;
    height: 100vh;
    background-color: #343a40;
    color: white;
    position: fixed;
    top: 0;
    left: -250px; /* Cachée par défaut */
    overflow-y: auto;
    z-index: 1000;
    transition: left 0.3s ease;
}

.sidebar.active {
    left: 0;
}

.sidebar .nav-link {
    color: white;
    padding: 12px 20px;
    display: flex;
    align-items: center;
    transition: background 0.3s;
}

.sidebar .nav-link i {
    margin-right: 10px;
}

.sidebar .nav-link:hover {
    background: rgba(255, 255, 255, 0.2);
}

/* Bouton de menu */
#toggleSidebar {
    background: none;
    border: none;
    font-size: 1.5rem;
    color: white;
    cursor: pointer;
}

/* Contenu principal */
.content {
    margin-left: 0;
    padding: 20px;
    transition: margin-left 0.3s ease-in-out;
}

/* Responsive */
@media (min-width: 769px) {  
    .sidebar {
        left: 0;
    }
    .content {
        margin-left: 250px;
    }
}

@media (max-width: 768px) {
    .sidebar {
        left: -250px; /* Masquée */
    }
    .sidebar.active {
        left: 0;
    }
    .content {
        margin-left: 0;
    }
}
.nav-link {
    transition: background-color 0.3s ease, color 0.3s ease;
    padding: 10px;
    border-radius: 5px;
}

.nav-link i {
    font-size: 1.2rem;
    margin-right: 10px;
    color: #ffc107;
}

/* Survol des liens */
.nav-link:hover {
    background-color: rgba(255, 255, 255, 0.1);
    color: #343a40;;
}

/* Éléments actifs */
.nav-link.active {
    background-color: #ff9800; /* Orange */
    color: #fff !important;
}

    </style>

</body>
</html>
